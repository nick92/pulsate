/* Pulse.c generated by valac 0.30.1, the Vala compiler
 * generated from Pulse.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <pulse/glib-mainloop.h>
#include <pulse/pulseaudio.h>
#include <pulse/simple.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>


#define TYPE_PULSE (pulse_get_type ())
#define PULSE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PULSE, Pulse))
#define PULSE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PULSE, PulseClass))
#define IS_PULSE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PULSE))
#define IS_PULSE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PULSE))
#define PULSE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PULSE, PulseClass))

typedef struct _Pulse Pulse;
typedef struct _PulseClass PulseClass;
typedef struct _PulsePrivate PulsePrivate;
#define _pa_glib_mainloop_free0(var) ((var == NULL) ? NULL : (var = (pa_glib_mainloop_free (var), NULL)))
#define _pa_context_unref0(var) ((var == NULL) ? NULL : (var = (pa_context_unref (var), NULL)))
#define _pa_simple_free0(var) ((var == NULL) ? NULL : (var = (pa_simple_free (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _pa_operation_unref0(var) ((var == NULL) ? NULL : (var = (pa_operation_unref (var), NULL)))

struct _Pulse {
	GObject parent_instance;
	PulsePrivate * priv;
};

struct _PulseClass {
	GObjectClass parent_class;
};

struct _PulsePrivate {
	pa_glib_mainloop* loop;
	pa_context* context;
	pa_context_flags_t cflags;
	pa_sample_spec spec;
	pa_buffer_attr attr;
	pa_simple* simple;
	gdouble twopi_over_sr;
	gchar* s_default_sink;
};


static gpointer pulse_parent_class = NULL;

GType pulse_get_type (void) G_GNUC_CONST;
#define PULSE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_PULSE, PulsePrivate))
enum  {
	PULSE_DUMMY_PROPERTY
};
Pulse* pulse_new (void);
Pulse* pulse_construct (GType object_type);
void pulse_start (Pulse* self);
void pulse_cstate_cb (Pulse* self, pa_context* context);
static void _pulse_cstate_cb_pa_context_notifycb (pa_context* c, gpointer self);
void pulse_stream_over_cb (Pulse* self, pa_stream* stream);
void pulse_stream_under_cb (Pulse* self, pa_stream* stream);
gint16* pulse_read (Pulse* self, int* result_length1);
void pulse_server_info_cb (Pulse* self, pa_context* c, pa_server_info* i);
static void _pulse_server_info_cb_pa_context_serverinfocb (pa_context* c, pa_server_info* i, gpointer self);
static GObject * pulse_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void pulse_finalize (GObject* obj);


Pulse* pulse_construct (GType object_type) {
	Pulse * self = NULL;
#line 15 "/home/nick/work/pulsate/src/Pulse.vala"
	self = (Pulse*) g_object_new (object_type, NULL);
#line 14 "/home/nick/work/pulsate/src/Pulse.vala"
	return self;
#line 81 "Pulse.c"
}


Pulse* pulse_new (void) {
#line 14 "/home/nick/work/pulsate/src/Pulse.vala"
	return pulse_construct (TYPE_PULSE);
#line 88 "Pulse.c"
}


static void _pulse_cstate_cb_pa_context_notifycb (pa_context* c, gpointer self) {
#line 31 "/home/nick/work/pulsate/src/Pulse.vala"
	pulse_cstate_cb ((Pulse*) self, c);
#line 95 "Pulse.c"
}


void pulse_start (Pulse* self) {
	pa_glib_mainloop* _tmp0_ = NULL;
	pa_glib_mainloop* _tmp1_ = NULL;
	pa_mainloop_api* _tmp2_ = NULL;
	pa_context* _tmp3_ = NULL;
	pa_context* _tmp4_ = NULL;
	pa_context* _tmp5_ = NULL;
	pa_context_flags_t _tmp6_ = 0;
	gint _tmp7_ = 0;
#line 27 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (self != NULL);
#line 28 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_ = pa_glib_mainloop_new (NULL);
#line 28 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_glib_mainloop_free0 (self->priv->loop);
#line 28 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->loop = _tmp0_;
#line 29 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp1_ = self->priv->loop;
#line 29 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp2_ = pa_glib_mainloop_get_api (_tmp1_);
#line 29 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp3_ = pa_context_new_with_proplist (_tmp2_, NULL, NULL);
#line 29 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_context_unref0 (self->priv->context);
#line 29 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->context = _tmp3_;
#line 30 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->cflags = PA_CONTEXT_NOFAIL;
#line 31 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp4_ = self->priv->context;
#line 31 "/home/nick/work/pulsate/src/Pulse.vala"
	pa_context_set_state_callback (_tmp4_, _pulse_cstate_cb_pa_context_notifycb, self);
#line 34 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp5_ = self->priv->context;
#line 34 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp6_ = self->priv->cflags;
#line 34 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp7_ = pa_context_connect (_tmp5_, NULL, _tmp6_, NULL);
#line 34 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp7_ < 0) {
#line 140 "Pulse.c"
		pa_context* _tmp8_ = NULL;
		int _tmp9_ = 0;
		const gchar* _tmp10_ = NULL;
#line 35 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp8_ = self->priv->context;
#line 35 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp9_ = pa_context_errno (_tmp8_);
#line 35 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp10_ = pa_strerror (_tmp9_);
#line 35 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("pa_context_connect() failed: %s\n", _tmp10_);
#line 152 "Pulse.c"
	}
}


void pulse_stream_over_cb (Pulse* self, pa_stream* stream) {
#line 40 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (self != NULL);
#line 40 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (stream != NULL);
#line 41 "/home/nick/work/pulsate/src/Pulse.vala"
	g_print ("AudioDevice: stream overflow...\n");
#line 164 "Pulse.c"
}


void pulse_stream_under_cb (Pulse* self, pa_stream* stream) {
#line 43 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (self != NULL);
#line 43 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (stream != NULL);
#line 44 "/home/nick/work/pulsate/src/Pulse.vala"
	g_print ("AudioDevice: stream underflow...\n");
#line 175 "Pulse.c"
}


gint16* pulse_read (Pulse* self, int* result_length1) {
	gint16* result = NULL;
	gsize nbytes = 0UL;
	guint len = 0U;
	gsize _tmp0_ = 0UL;
	gint16* data = NULL;
	guint _tmp1_ = 0U;
	gint16* _tmp2_ = NULL;
	gint data_length1 = 0;
	gint _data_size_ = 0;
	gint _error_ = 0;
	gint i = 0;
	gint n = 0;
	const gchar* _tmp3_ = NULL;
	pa_sample_spec _tmp4_ = {0};
	pa_buffer_attr _tmp5_ = {0};
	pa_simple* _tmp6_ = NULL;
	pa_simple* _tmp7_ = NULL;
	gint16* _tmp8_ = NULL;
	gint _tmp8__length1 = 0;
	gint _tmp9_ = 0;
	gint16* _tmp22_ = NULL;
	gint _tmp22__length1 = 0;
#line 48 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 49 "/home/nick/work/pulsate/src/Pulse.vala"
	g_print ("reading");
#line 50 "/home/nick/work/pulsate/src/Pulse.vala"
	nbytes = (gsize) 1024;
#line 51 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_ = nbytes;
#line 51 "/home/nick/work/pulsate/src/Pulse.vala"
	len = (guint) (_tmp0_ / sizeof (gint16));
#line 52 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp1_ = len;
#line 52 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp2_ = g_new0 (gint16, _tmp1_);
#line 52 "/home/nick/work/pulsate/src/Pulse.vala"
	data = _tmp2_;
#line 52 "/home/nick/work/pulsate/src/Pulse.vala"
	data_length1 = _tmp1_;
#line 52 "/home/nick/work/pulsate/src/Pulse.vala"
	_data_size_ = data_length1;
#line 53 "/home/nick/work/pulsate/src/Pulse.vala"
	memset (&self->priv->attr, 0, sizeof (pa_buffer_attr));
#line 54 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->attr.maxlength = (guint32) 2048;
#line 55 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->attr.fragsize = (guint32) 1024;
#line 58 "/home/nick/work/pulsate/src/Pulse.vala"
	n = 0;
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp3_ = self->priv->s_default_sink;
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp4_ = self->priv->spec;
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp5_ = self->priv->attr;
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp6_ = pa_simple_new (NULL, "Waves listener", PA_STREAM_RECORD, _tmp3_, "audio for waves", &_tmp4_, NULL, &_tmp5_, &_error_);
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_simple_free0 (self->priv->simple);
#line 61 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->simple = _tmp6_;
#line 63 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp7_ = self->priv->simple;
#line 63 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp8_ = data;
#line 63 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp8__length1 = data_length1;
#line 63 "/home/nick/work/pulsate/src/Pulse.vala"
	pa_simple_read (_tmp7_, (void*) _tmp8_, (gsize) sizeof (gsize), &_tmp9_);
#line 63 "/home/nick/work/pulsate/src/Pulse.vala"
	_error_ = _tmp9_;
#line 252 "Pulse.c"
	{
		gboolean _tmp10_ = FALSE;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
		i = 0;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp10_ = TRUE;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
		while (TRUE) {
#line 261 "Pulse.c"
			gint _tmp14_ = 0;
			guint _tmp15_ = 0U;
			gint16* _tmp16_ = NULL;
			gint _tmp16__length1 = 0;
			gint _tmp17_ = 0;
			gint16 _tmp18_ = 0;
			gint _tmp19_ = 0;
			gint _tmp20_ = 0;
			gsize _tmp21_ = 0UL;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
			if (!_tmp10_) {
#line 273 "Pulse.c"
				gint _tmp11_ = 0;
				pa_sample_spec _tmp12_ = {0};
				guint8 _tmp13_ = 0U;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
				_tmp11_ = i;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
				_tmp12_ = self->priv->spec;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
				_tmp13_ = _tmp12_.channels;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
				i = _tmp11_ + _tmp13_;
#line 285 "Pulse.c"
			}
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp10_ = FALSE;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp14_ = i;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp15_ = len;
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
			if (!(((guint) _tmp14_) < _tmp15_)) {
#line 64 "/home/nick/work/pulsate/src/Pulse.vala"
				break;
#line 297 "Pulse.c"
			}
#line 65 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp16_ = data;
#line 65 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp16__length1 = data_length1;
#line 65 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp17_ = i;
#line 65 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp18_ = _tmp16_[_tmp17_];
#line 65 "/home/nick/work/pulsate/src/Pulse.vala"
			if (((gint) _tmp18_) != 0) {
#line 309 "Pulse.c"
			}
#line 70 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp19_ = n;
#line 70 "/home/nick/work/pulsate/src/Pulse.vala"
			n = _tmp19_ + 1;
#line 71 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp20_ = n;
#line 71 "/home/nick/work/pulsate/src/Pulse.vala"
			_tmp21_ = nbytes;
#line 71 "/home/nick/work/pulsate/src/Pulse.vala"
			if (((gsize) _tmp20_) == (_tmp21_ * 2)) {
#line 72 "/home/nick/work/pulsate/src/Pulse.vala"
				n = 0;
#line 323 "Pulse.c"
			}
		}
	}
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp22_ = data;
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp22__length1 = data_length1;
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
	if (result_length1) {
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
		*result_length1 = _tmp22__length1;
#line 335 "Pulse.c"
	}
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
	result = _tmp22_;
#line 75 "/home/nick/work/pulsate/src/Pulse.vala"
	return result;
#line 341 "Pulse.c"
}


void pulse_server_info_cb (Pulse* self, pa_context* c, pa_server_info* i) {
	pa_server_info* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	gchar* _tmp2_ = NULL;
#line 78 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (self != NULL);
#line 78 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (c != NULL);
#line 80 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_ = i;
#line 80 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp1_ = (*_tmp0_).default_sink_name;
#line 80 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp2_ = g_strconcat (_tmp1_, ".monitor", NULL);
#line 80 "/home/nick/work/pulsate/src/Pulse.vala"
	_g_free0 (self->priv->s_default_sink);
#line 80 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->s_default_sink = _tmp2_;
#line 363 "Pulse.c"
}


static void _pulse_server_info_cb_pa_context_serverinfocb (pa_context* c, pa_server_info* i, gpointer self) {
#line 96 "/home/nick/work/pulsate/src/Pulse.vala"
	pulse_server_info_cb ((Pulse*) self, c, i);
#line 370 "Pulse.c"
}


void pulse_cstate_cb (Pulse* self, pa_context* context) {
	pa_context_state_t state = 0;
	pa_context* _tmp0_ = NULL;
	pa_context_state_t _tmp1_ = 0;
	pa_context_state_t _tmp2_ = 0;
	pa_context_state_t _tmp3_ = 0;
	pa_context_state_t _tmp4_ = 0;
	pa_context_state_t _tmp5_ = 0;
	pa_context_state_t _tmp6_ = 0;
	pa_context_state_t _tmp7_ = 0;
	pa_context_state_t _tmp8_ = 0;
	pa_context_state_t _tmp9_ = 0;
#line 84 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (self != NULL);
#line 84 "/home/nick/work/pulsate/src/Pulse.vala"
	g_return_if_fail (context != NULL);
#line 85 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_ = context;
#line 85 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp1_ = pa_context_get_state (_tmp0_);
#line 85 "/home/nick/work/pulsate/src/Pulse.vala"
	state = _tmp1_;
#line 86 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp2_ = state;
#line 86 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp2_ == PA_CONTEXT_UNCONNECTED) {
#line 86 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state UNCONNECTED\n");
#line 402 "Pulse.c"
	}
#line 87 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp3_ = state;
#line 87 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp3_ == PA_CONTEXT_CONNECTING) {
#line 87 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state CONNECTING\n");
#line 410 "Pulse.c"
	}
#line 88 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp4_ = state;
#line 88 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp4_ == PA_CONTEXT_AUTHORIZING) {
#line 88 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state AUTHORIZING,\n");
#line 418 "Pulse.c"
	}
#line 89 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp5_ = state;
#line 89 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp5_ == PA_CONTEXT_SETTING_NAME) {
#line 89 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state SETTING_NAME\n");
#line 426 "Pulse.c"
	}
#line 90 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp6_ = state;
#line 90 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp6_ == PA_CONTEXT_READY) {
#line 90 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state READY\n");
#line 434 "Pulse.c"
	}
#line 91 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp7_ = state;
#line 91 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp7_ == PA_CONTEXT_FAILED) {
#line 91 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state FAILED,\n");
#line 442 "Pulse.c"
	}
#line 92 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp8_ = state;
#line 92 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp8_ == PA_CONTEXT_TERMINATED) {
#line 92 "/home/nick/work/pulsate/src/Pulse.vala"
		g_print ("state TERMINATED\n");
#line 450 "Pulse.c"
	}
#line 94 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp9_ = state;
#line 94 "/home/nick/work/pulsate/src/Pulse.vala"
	if (_tmp9_ == PA_CONTEXT_READY) {
#line 456 "Pulse.c"
		pa_context* _tmp10_ = NULL;
		pa_operation* _tmp11_ = NULL;
		pa_operation* _tmp12_ = NULL;
#line 95 "/home/nick/work/pulsate/src/Pulse.vala"
		memset (&self->priv->attr, 0, sizeof (pa_buffer_attr));
#line 96 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp10_ = self->priv->context;
#line 96 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp11_ = pa_context_get_server_info (_tmp10_, _pulse_server_info_cb_pa_context_serverinfocb, self);
#line 96 "/home/nick/work/pulsate/src/Pulse.vala"
		_tmp12_ = _tmp11_;
#line 96 "/home/nick/work/pulsate/src/Pulse.vala"
		_pa_operation_unref0 (_tmp12_);
#line 470 "Pulse.c"
	}
}


static GObject * pulse_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	Pulse * self;
	pa_sample_spec _tmp0_ = {0};
	pa_sample_spec _tmp1_ = {0};
	pa_sample_spec _tmp2_ = {0};
	guint32 _tmp3_ = 0U;
#line 18 "/home/nick/work/pulsate/src/Pulse.vala"
	parent_class = G_OBJECT_CLASS (pulse_parent_class);
#line 18 "/home/nick/work/pulsate/src/Pulse.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 18 "/home/nick/work/pulsate/src/Pulse.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_PULSE, Pulse);
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	pa_sample_spec_init (&_tmp0_);
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_.format = PA_SAMPLE_S16LE;
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_.channels = (guint8) 2;
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp0_.rate = (guint32) 44100;
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->spec = _tmp0_;
#line 19 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp1_ = self->priv->spec;
#line 24 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp2_ = self->priv->spec;
#line 24 "/home/nick/work/pulsate/src/Pulse.vala"
	_tmp3_ = _tmp2_.rate;
#line 24 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv->twopi_over_sr = (2.0 * G_PI) / ((gdouble) _tmp3_);
#line 18 "/home/nick/work/pulsate/src/Pulse.vala"
	return obj;
#line 509 "Pulse.c"
}


static void pulse_class_init (PulseClass * klass) {
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	pulse_parent_class = g_type_class_peek_parent (klass);
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	g_type_class_add_private (klass, sizeof (PulsePrivate));
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	G_OBJECT_CLASS (klass)->constructor = pulse_constructor;
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	G_OBJECT_CLASS (klass)->finalize = pulse_finalize;
#line 522 "Pulse.c"
}


static void pulse_instance_init (Pulse * self) {
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	self->priv = PULSE_GET_PRIVATE (self);
#line 529 "Pulse.c"
}


static void pulse_finalize (GObject* obj) {
	Pulse * self;
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_PULSE, Pulse);
#line 5 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_glib_mainloop_free0 (self->priv->loop);
#line 6 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_context_unref0 (self->priv->context);
#line 10 "/home/nick/work/pulsate/src/Pulse.vala"
	_pa_simple_free0 (self->priv->simple);
#line 12 "/home/nick/work/pulsate/src/Pulse.vala"
	_g_free0 (self->priv->s_default_sink);
#line 4 "/home/nick/work/pulsate/src/Pulse.vala"
	G_OBJECT_CLASS (pulse_parent_class)->finalize (obj);
#line 547 "Pulse.c"
}


GType pulse_get_type (void) {
	static volatile gsize pulse_type_id__volatile = 0;
	if (g_once_init_enter (&pulse_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (PulseClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) pulse_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Pulse), 0, (GInstanceInitFunc) pulse_instance_init, NULL };
		GType pulse_type_id;
		pulse_type_id = g_type_register_static (G_TYPE_OBJECT, "Pulse", &g_define_type_info, 0);
		g_once_init_leave (&pulse_type_id__volatile, pulse_type_id);
	}
	return pulse_type_id__volatile;
}



